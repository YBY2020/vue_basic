<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>过滤器</title>
		<script type="text/javascript" src="../js/vue.js"></script>
		<script type="text/javascript" src="../js/dayjs.min.js"></script>//引入day.js，存在vue.js那个位置，这个引入方法可以看看老师的操作，挺简单的
	</head>
	<body>
		<!-- 
			过滤器：（不是一定要用，只是vue给我们提供的一个数据处理方式，其他诸如计算属性其实也能实现）
				
				定义：对要显示的数据进行特定格式化后再显示（适用于一些简单逻辑的处理，过于复杂的用计算属性或methods）。
				语法：
						1.注册过滤器：Vue.filter(name,callback) 或 new Vue{filters:{}}
						2.使用过滤器：{{ xxx | 过滤器名}}  或  v-bind:属性 = "xxx | 过滤器名"（这种用的少）
				备注：
						1.过滤器也可以接收额外参数、多个过滤器也可以串联
						2.并没有改变原本的数据, 是产生新的对应的数据
		-->
		<!-- 准备好一个容器-->
		<div id="root">
			<h2>显示格式化后的时间</h2>
			<!-- 计算属性实现 -->
			<h3>现在是：{{fmtTime}}</h3>
			<!-- methods实现 -->
			<h3>现在是：{{getFmtTime()}}</h3>
			<!-- 过滤器实现 （没有传参）-->
			<h3>现在是：{{time | timeFormater}}</h3><!-- |是管道符 timeFormater是自己定义的名字 拿着time给timeFormater，然后返回值直接替换掉time-->
			<!-- 过滤器实现（传参） 多个过滤器的串联-->
			<h3>现在是：{{time | timeFormater('YYYY_MM_DD') | mySlice}}</h3><!-- timeFormater带参数就可以自定义形式，不要时分秒 timeFormater工作的结果传给mySlice-->
			<h3 :x="msg | mySlice">尚硅谷</h3><!-- 过滤器不一定要写在插值语法里 还能写在v-bind让x只绑定前4位 但不能写在v-model里-->
		</div>

		<div id="root2">
			<h2>{{msg | mySlice}}</h2><!-- 看到管道符就是用了过滤器，不是只有时间才能用过滤器 -->
		</div>
	</body>

	<script type="text/javascript">
		Vue.config.productionTip = false
		//全局过滤器 多个vm也能用(组件是一个微型的vm)
		Vue.filter('mySlice',function(value){
			return value.slice(0,4)
		})
		
		new Vue({
			el:'#root',
			data:{
				time:1621561377603, //时间戳 时间戳是一份能够表示一份数据在一个特定时间点已经存在的完整的可验证的数据。使用数字签名技术产生的数据，签名的对象包括了原始文件信息、签名参数、签名时间等信息。
				msg:'你好，尚硅谷'
			},
			computed: {//用计算属性写
				fmtTime(){//fmt意思是formate 格式化后的时间
					return dayjs(this.time).format('YYYY年MM月DD日 HH:mm:ss')
				}
			},
			methods: {//用methods写
				getFmtTime(){
					return dayjs(this.time).format('YYYY年MM月DD日 HH:mm:ss')
				}
			},
			//局部过滤器
			filters:{//过滤器的本质就是一个函数
				timeFormater(value,str='YYYY年MM月DD日 HH:mm:ss'){//str设定默认值的意思是，如果你没有传str过来就用这个默认值，你传了就用你的
					// console.log('@',value)
					return dayjs(value).format(str)

				}
			}
		})

		new Vue({
			el:'#root2',
			data:{
				msg:'hello,atguigu!'
			}
		})
	</script>
</html>