<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>await</title>
</head>
<body>
    <script>


        //await表达式  注意async是函数  await是表达式
        //await 右侧的表达式一般为 promise 对象, 但也可以是其它的值
        async function main(){//【await 必须写在 async 函数中, 但 async 函数中可以没有 await】
            let p = new Promise((resolve, reject) => {
                // resolve('OK');
                reject('Error');
            })
            //1. 右侧为promise的情况   【如果表达式是 promise 对象, await 返回的是 promise 成功的值】
             let res = await p;
            //2. 右侧为其他类型的数据   【如果表达式是其它值, 直接将此值作为 await 的返回值】
            let res2 = await 20;
            //3. 如果promise是失败的状态   【如果 await 的 promise 失败了, 就会抛出异常, 需要通过 try...catch 捕获处理】
            try{
                let res3 = await p;//注意这行写在try里面
            }catch(e){
                console.log(e);
            }
        }

        main();//上面只是定义一个函数  这里才是用
    </script>
</body>
</html>